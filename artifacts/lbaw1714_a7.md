# A7: High-level architecture. Privileges. Web resources specification

GROUP1714, 08/04/2018

* Daniel Ribeiro de Pinho - up201505302@fe.up.pt

* Francisco José Sousa Silva - up201502860@fe.up.pt

* Rui André Rebolo Fernandes Leixo - up201504818@fe.up.pt

* Vitor Emanuel Fernandes Magalhães - up201503447@fe.up.pt


## 1. Overview


<table>
<tr>
<th>M01: Authentication and Individual Profile</th>
<td>Web resources associated with user authentication and individual profile management includes the following system features: login/logout, registration, credential recovery, view and edit personal profile information, manage purchased tickets and upcoming events and see activity feed.</td>
</tr>
<tr>
<th>M02: Events</th>
<td>Web resources associated with events include the following system features: creating, joining, inviting and comment, as well as ban and update the information(the latter are for admins only). Activity feed, participants and comments will also be available to inspect.</td>
</tr>
<tr>
<th>M03: Communities</th>
<td>Web resources associated with communities include the following system features: creating, joining and inviting, as well as ban and update the information(the latter are for admins only). Activity feed and events associated will also be available to inspect.</td>
</tr>
<tr>
<th>M04: Tickets</th>
<td>Web resources associated with tickets include the following system features: purchasing, choosing the type of ticket and managing them at the account.</td>
</tr>
<tr>
<th>M05: User Administration</th>
<td>Web resources associated with user management include the following system features: view, search and befriend users. Web resources associated with user administration include: delete or block user accounts and manage their comments.</td>
</tr>
<tr>
<th>M06: Static pages</th>
<td>Web resources associated with static content include the following system features: dashboard, about, contact and faq.</td>
</tr>
</table>



## 2. Permissions

<table>
<tr>
<th>VISI</th>
<td>Visitor</td>
<td>Group of users without privileges</td>
</tr>
<tr>
<th>MEMB</th>
<td>Member</td>
<td>Authenticated User</td>
</tr>
<tr>
<th>CADM</th>
<td>Community Administrator</td>
<td>Privileged Member that manages a Community</td>
</tr>
<tr>
<th>EADM</th>
<td>Event Administrator</td>
<td>Privileged Member that manages an Event</td>
</tr>
<tr>
<th>ADMN</th>
<td>Website Administrator</td>
<td>Privileged Member that manages general reports</td>
</tr>
</table>

## 3. Modules

> Web resources organized by module
> Document and describe the web resources associated with each module, indicating the URL, HTTP method, request parameters and response.
> Follow the RESTful resource naming
> At the end of this page is presented some usual descriptors to document the web resources.


Os Endpoints são tipo "índice" para as resources de cada módulo.
Primeiro faz-se as resources e depois os Endpoints

### M01: Authentication and Individual Profile

#### Endpoints of Module Authentication and Individual Profile
* **R101: Login Form** /login
* **R102: Login Action** /login
* **R103: Logout Action** /logout
* **R104: Register Form** /register
* **R105: Register Action** /register
* **R106: View Profile** /users/{id}
* **R107: Edit Profile Form** /users/{id}/edit
* **R108: Edit Profile Action** /users/{id}
* **R109: Password Reset Form** /password/reset
* **R110: Password Reset Action** /password/reset

#### R101: Login Form

<table>
<tr>
<th>URL</th>
<td>/login</td>
</tr>
<tr>
<th>Description</th>
<td>Page with a form for a Visitor to login</td>
</tr>
<tr>
<th>Method</th>
<td>GET</td>
</tr>
<tr>
<th>UI</th>
<td><a href="https://raw.githubusercontent.com/LastLombax/lbaw1714/master/Interfaces'%20screenshots/login.png?token=AYlAMWcXZy9q3IRZmn6LlvMOdbA69KRAks5az2bMwA%3D%3D">UI14</a>
</td>
</tr>
<tr>
<th>SUBMIT</th>
<td>R102</td>
</tr>
<tr>
<th>Permissions</th>
<td>VISI</td>
</tr>
</table>


#### R102: Login Action

<table>
<tr>
  <th>URL</th>
  <td colspan="2">/login</td>
</tr>
<tr>
  <th>Description</th>
  <td colspan="2">Logs the Visitor into the system. If succesful, reddirects to the main homepage, otherwise it goes back to the login form</td>
</tr>
<tr>
  <th>Method</th>
  <td colspan="2">POST</td>
</tr>
<tr>
  <th>Request Body</th>
  <td>+email: string</td>
  <td>Username</td>
</tr>
<tr>
  <td></td>
  <td>+password: string</td>
  <td>Password</td>
</tr>
</tr>
<tr>
  <th>Permissions</th>
  <td colspan="2">VISI</td>
</tr>
</table>


#### R104: Register Form

<table>
<tr>
<th>URL</th>
<td>/register</td>
</tr>
<tr>
<th>Description</th>
<td>Page with a form for a Visitor to register</td>
</tr>
<tr>
<th>Method</th>
<td>GET</td>
</tr>
<tr>
<th>UI</th>
<td><a href="%">UI14</a>
</td>
</tr>
<tr>
<th>SUBMIT</th>
<td>R104</td>
</tr>
<tr>
<th>Permissions</th>
<td>VISI</td>
</tr>
</table>


#### R105: Login Action

<table>
<tr>
  <th>URL</th>
  <td colspan="2">/register</td>
</tr>
<tr>
  <th>Description</th>
  <td colspan="2">Creates an account and logs the Visitor into the system, if succesful. Otherwise, it goes back to the login form</td>
</tr>
<tr>
  <th>Method</th>
  <td colspan="2">POST</td>
</tr>
<tr>
  <th rowspan="5">Request Body</th>
  <td>+username: string</td>
  <td>Username</td>
</tr>
<tr>
  <td>+email: string</td>
  <td>E-mail address</td>
</tr>
<tr>
  <td>+password: string</td>
  <td>Password</td>
</tr>
<tr>
  <td>+confirmPassword: string</td>
  <td>Password confirmation</td>
</tr>
<tr>
  <td>+country: string</td>
  <td>Country</td>
</tr>
<tr>
  <th>Permissions</th>
  <td>VISI</td>
</tr>
</table>

#### R106: View user profile

<table>
<tr>
<th>URL</th>
<td colspan="2">/user/{id}</td>
</tr>
<tr>
<th>Description</th>
<tdcolspan="2">User profile page</td>
</tr>
<tr>
<th>Method</th>
<td colspan="2">GET</td>
</tr>
<tr>
<th>Parameters</th>
<td>+idmember: integer</td>
<td>member: primary key</td>
</tr>
<tr>
<th>UI</th>
<td colspan="2"><a href="%">UI14</a></td>
</tr>
<tr>
<th>Permissions</th>
<td>MEMB</td>
</tr>
</table>

### M02: Events

#### Endpoints of Module Events

### M03: Communities

#### Endpoints of Module Communities

### M04: Tickets

#### Endpoints of Module Tickets

### M05: User Administration

#### Endpoints of Module User Administation

### M06: Static pages

#### Endpoints of Static Pages

## 4. JSON/XML Types

> Document the JSON or XML responses that will be used by the web resources.

## Web resources descriptors <note important>Do not include on the final artefact</note>

* URL - Resource identifier, following the RESTful resource naming conventions
* Description - Describe the resource, when it's used and why
* UI - Reference to the A3 user interface used by the resource
* SUBMIT - Reference to the actions/requests integrated with the resource
* Method - HTTP request Method
* Parameters - Information that is sent through the URL, by a query string or path
* Request Body - Data associated and transmitted with each request
* Returns - HTTP code returned from a request
* Response Body - Data sent from the server, in response to a given request
* Permissions - Required permissions to access the resource

## Revision history

Changes made to the first submission:
1. Item 1
1. Item 2

***
